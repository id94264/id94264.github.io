<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全屏时钟</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #000000 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .clock-container {
            text-align: center;
            color: white;
            padding: 20px;
        }

        .time {
            font-size: 8rem;
            font-weight: 300;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .date {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        
        .controls {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 15px;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* 设置面板样式 */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -350px;
            width: 320px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            transition: right 0.3s ease;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
        }

        .settings-panel.active {
            right: 0;
        }

        .settings-panel h3 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5rem;
        }

        .setting-group {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
        }

        .setting-group h4 {
            color: #555;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .setting-item {
            margin-bottom: 12px;
        }

        .setting-item label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-size: 0.9rem;
        }

        .setting-item input, .setting-item select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: white;
        }

        .close-settings {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .settings-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .settings-actions .btn {
            flex: 1;
            padding: 12px;
        }

        @media (max-width: 768px) {
            .time {
                font-size: 4rem;
            }
            
            .date {
                font-size: 1.5rem;
            }
            
            .settings-panel {
                width: 100%;
                right: -100%;
            }
        }
    </style>
</head>
<body>
    <div class="clock-container">
        <div class="time" id="time">00:00:00</div>
        <div class="date" id="date">2023年1月1日 星期一</div>
    </div>
    
    <div class="controls">
        <button class="btn" id="fullscreenBtn" title="全屏">⛶</button>
        <button class="btn" id="settingsBtn" title="设置">⚙️</button>
        <!-- 删除:<button class="btn" id="backBtn">返回首页</button> -->
    </div>

    <!-- 设置面板 -->
    <div class="settings-panel" id="settingsPanel">
        <button class="close-settings" id="closeSettings">&times;</button>
        <h3>时钟设置</h3>
        
        <!-- 时间设置 -->
        <div class="setting-group">
            <h4>时间显示设置</h4>
            <div class="setting-item">
                <label for="timeFontSize">字体大小 (rem)</label>
                <input type="number" id="timeFontSize" min="1" max="20" step="0.5" value="8">
            </div>
            <div class="setting-item">
                <label for="timeColor">字体颜色</label>
                <input type="color" id="timeColor" value="#ffffff">
            </div>
            <div class="setting-item">
                <label for="timeFontWeight">字体粗细</label>
                <select id="timeFontWeight">
                    <option value="100">细体 (100)</option>
                    <option value="200">较细 (200)</option>
                    <option value="300" selected>正常 (300)</option>
                    <option value="400">中等 (400)</option>
                    <option value="500">粗体 (500)</option>
                    <option value="600">较粗 (600)</option>
                    <option value="700">加粗 (700)</option>
                </select>
            </div>
        </div>
        
        <!-- 日期设置 -->
        <div class="setting-group">
            <h4>日期显示设置</h4>
            <div class="setting-item">
                <label for="dateFontSize">字体大小 (rem)</label>
                <input type="number" id="dateFontSize" min="1" max="10" step="0.5" value="2">
            </div>
            <div class="setting-item">
                <label for="dateColor">字体颜色</label>
                <input type="color" id="dateColor" value="#ffffff">
            </div>
            <div class="setting-item">
                <label for="dateFontWeight">字体粗细</label>
                <select id="dateFontWeight">
                    <option value="100">细体 (100)</option>
                    <option value="200">较细 (200)</option>
                    <option value="300" selected>正常 (300)</option>
                    <option value="400">中等 (400)</option>
                    <option value="500">粗体 (500)</option>
                    <option value="600">较粗 (600)</option>
                    <option value="700">加粗 (700)</option>
                </select>
            </div>
        </div>
        
        <!-- 背景设置 -->
        <div class="setting-group">
            <h4>背景设置</h4>
            <div class="setting-item">
                <label for="bgColor1">背景渐变色1</label>
                <input type="color" id="bgColor1" value="#667eea">
            </div>
            <div class="setting-item">
                <label for="bgColor2">背景渐变色2</label>
                <input type="color" id="bgColor2" value="#764ba2">
            </div>
        </div>
        
        <div class="settings-actions">
            <button class="btn" id="resetSettings" style="color: #333;">恢复默认</button>
            <button class="btn" id="cancelSettings" style="color: #333;">取消</button>
            <button class="btn" id="saveSettings" style="color: #333;">保存设置</button>
        </div>
    </div>

    <script>
        // 默认设置
        const defaultSettings = {
            timeFontSize: 8,
            timeColor: '#ffffff',
            timeFontWeight: '300',
            dateFontSize: 2,
            dateColor: '#ffffff',
            dateFontWeight: '300',
            bgColor1: '#000000',
            bgColor2: '#000000'
        };

        // 保存当前应用的设置的副本
        let currentAppliedSettings = {...defaultSettings};
        // 保存打开设置面板时的设置副本，用于取消时恢复
        let settingsAtOpen = {...defaultSettings};

        // 应用设置
        function applySettings(settings) {
            // 应用时间样式
            document.querySelector('.time').style.fontSize = settings.timeFontSize + 'rem';
            document.querySelector('.time').style.color = settings.timeColor;
            document.querySelector('.time').style.fontWeight = settings.timeFontWeight;
            
            // 应用日期样式
            document.querySelector('.date').style.fontSize = settings.dateFontSize + 'rem';
            document.querySelector('.date').style.color = settings.dateColor;
            document.querySelector('.date').style.fontWeight = settings.dateFontWeight;
            
            // 应用背景样式
            document.body.style.background = `linear-gradient(135deg, ${settings.bgColor1} 0%, ${settings.bgColor2} 100%)`;
            
            // 保存当前应用的设置
            currentAppliedSettings = {...settings};
        }

        // 实时预览设置
        function previewSettings() {
            const settings = {
                timeFontSize: parseFloat(document.getElementById('timeFontSize').value),
                timeColor: document.getElementById('timeColor').value,
                timeFontWeight: document.getElementById('timeFontWeight').value,
                dateFontSize: parseFloat(document.getElementById('dateFontSize').value),
                dateColor: document.getElementById('dateColor').value,
                dateFontWeight: document.getElementById('dateFontWeight').value,
                bgColor1: document.getElementById('bgColor1').value,
                bgColor2: document.getElementById('bgColor2').value
            };
            applySettings(settings);
        }

        // 保存设置到本地存储
        function saveSettingsToStorage(settings) {
            localStorage.setItem('clockSettings', JSON.stringify(settings));
        }

        // 从本地存储获取设置
        function getSettingsFromStorage() {
            const settings = localStorage.getItem('clockSettings');
            return settings ? JSON.parse(settings) : null;
        }

        // 加载设置
        function loadSettings() {
            const savedSettings = getSettingsFromStorage();
            if (savedSettings) {
                applySettings(savedSettings);
                // 更新设置面板的值
                document.getElementById('timeFontSize').value = savedSettings.timeFontSize;
                document.getElementById('timeColor').value = savedSettings.timeColor;
                document.getElementById('timeFontWeight').value = savedSettings.timeFontWeight;
                document.getElementById('dateFontSize').value = savedSettings.dateFontSize;
                document.getElementById('dateColor').value = savedSettings.dateColor;
                document.getElementById('dateFontWeight').value = savedSettings.dateFontWeight;
                document.getElementById('bgColor1').value = savedSettings.bgColor1;
                document.getElementById('bgColor2').value = savedSettings.bgColor2;
            } else {
                // 应用默认设置
                applySettings(defaultSettings);
            }
        }

        // 更新时间函数
        function updateTime() {
            const now = new Date();
            
            // 格式化时间
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('time').textContent = `${hours}:${minutes}:${seconds}`;
            
            // 格式化日期
            const year = now.getFullYear();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            
            // 星期几
            const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
            const weekday = weekdays[now.getDay()];
            
            document.getElementById('date').textContent = `${year}年${month}月${day}日 ${weekday}`;
        }

        // 初始调用
        updateTime();
        
        // 每秒更新一次时间
        setInterval(updateTime, 1000);

        // 全屏功能
        document.getElementById('fullscreenBtn').addEventListener('click', () => {
            // 检查当前是否处于全屏状态
            if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                // 如果是全屏状态，则退出全屏
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            } else {
                // 如果不是全屏状态，则进入全屏
                const elem = document.documentElement;
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.webkitRequestFullscreen) {
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) {
                    elem.msRequestFullscreen();
                }
            }
        });

        // 修改:设置按钮切换功能
        document.getElementById('settingsBtn').addEventListener('click', () => {
            const settingsPanel = document.getElementById('settingsPanel');
            // 打开设置面板前保存当前设置
            settingsAtOpen = {...currentAppliedSettings};
            // 更新面板中的值
            document.getElementById('timeFontSize').value = settingsAtOpen.timeFontSize;
            document.getElementById('timeColor').value = settingsAtOpen.timeColor;
            document.getElementById('timeFontWeight').value = settingsAtOpen.timeFontWeight;
            document.getElementById('dateFontSize').value = settingsAtOpen.dateFontSize;
            document.getElementById('dateColor').value = settingsAtOpen.dateColor;
            document.getElementById('dateFontWeight').value = settingsAtOpen.dateFontWeight;
            document.getElementById('bgColor1').value = settingsAtOpen.bgColor1;
            document.getElementById('bgColor2').value = settingsAtOpen.bgColor2;
            settingsPanel.classList.toggle('active');
        });

        // 关闭设置面板
        document.getElementById('closeSettings').addEventListener('click', () => {
            // 恢复到打开设置面板时的设置
            applySettings(settingsAtOpen);
            document.getElementById('settingsPanel').classList.remove('active');
        });

        // 保存设置
        document.getElementById('saveSettings').addEventListener('click', () => {
            const settings = {
                timeFontSize: parseFloat(document.getElementById('timeFontSize').value),
                timeColor: document.getElementById('timeColor').value,
                timeFontWeight: document.getElementById('timeFontWeight').value,
                dateFontSize: parseFloat(document.getElementById('dateFontSize').value),
                dateColor: document.getElementById('dateColor').value,
                dateFontWeight: document.getElementById('dateFontWeight').value,
                bgColor1: document.getElementById('bgColor1').value,
                bgColor2: document.getElementById('bgColor2').value
            };
            
            applySettings(settings);
            saveSettingsToStorage(settings);
            document.getElementById('settingsPanel').classList.remove('active');
        });

        // 恢复默认设置
        document.getElementById('resetSettings').addEventListener('click', () => {
            applySettings(defaultSettings);
            saveSettingsToStorage(defaultSettings);
            
            // 更新设置面板的值
            document.getElementById('timeFontSize').value = defaultSettings.timeFontSize;
            document.getElementById('timeColor').value = defaultSettings.timeColor;
            document.getElementById('timeFontWeight').value = defaultSettings.timeFontWeight;
            document.getElementById('dateFontSize').value = defaultSettings.dateFontSize;
            document.getElementById('dateColor').value = defaultSettings.dateColor;
            document.getElementById('dateFontWeight').value = defaultSettings.dateFontWeight;
            document.getElementById('bgColor1').value = defaultSettings.bgColor1;
            document.getElementById('bgColor2').value = defaultSettings.bgColor2;
        });

        // 取消设置 - 恢复到应用前的设置
        document.getElementById('cancelSettings').addEventListener('click', () => {
            // 恢复到打开设置面板时的设置
            applySettings(settingsAtOpen);
            document.getElementById('settingsPanel').classList.remove('active');
        });

        // // 删除:返回首页
        // document.getElementById('backBtn').addEventListener('click', () => {
        //     window.location.href = '../index.html';
        // });

        // 页面加载完成后自动更新一次时间并加载设置
        window.addEventListener('load', () => {
            updateTime();
            loadSettings();
            
            // 添加实时预览事件监听器
            document.getElementById('timeFontSize').addEventListener('input', previewSettings);
            document.getElementById('timeColor').addEventListener('input', previewSettings);
            document.getElementById('timeFontWeight').addEventListener('change', previewSettings);
            document.getElementById('dateFontSize').addEventListener('input', previewSettings);
            document.getElementById('dateColor').addEventListener('input', previewSettings);
            document.getElementById('dateFontWeight').addEventListener('change', previewSettings);
            document.getElementById('bgColor1').addEventListener('input', previewSettings);
            document.getElementById('bgColor2').addEventListener('input', previewSettings);
        });
    </script>
</body>
</html>

